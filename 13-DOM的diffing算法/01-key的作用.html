<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01-key的作用</title>
</head>
<body>
    <div id="test"></div>
</body>

<!-- 引入React核心库 -->
<script src="../js/17.0.1/react.development.js"></script>
<!-- 引入React-dom，支持react操作DOM -->
<script src="../js/17.0.1/react-dom.development.js"></script>
<!-- 引入babel，用于将jsx转换js -->
<script src="../js/17.0.1/babel.min.js"></script>
<!-- 引入prop-types -->
<script src="../js/17.0.1/prop-types.js"></script>

<script type="text/babel">

    class Person extends React.Component{

        state = {
            persons:[
                {id:1,name:'小李',age:18},
                {id:2,name:'小张',age:19},
            ]
        }

        addPerson = ()=>{
            let { persons } = this.state
            const p = {id:3,name:'小王',age:20}
            this.setState({
                persons:[p,...persons]
            })
        }

        //组件被渲染
        render(){
            let { persons } = this.state
            return (
                <div>
                    <h2>展示人员信息</h2>
                    <button onClick={this.addPerson}>点我新增小王</button>
                    <br/><br/>
                    <p>用index做标识</p>
                    <ul>
                        {
                            persons.map((item,index)=>{
                                return <li key={index}>{item.name}----{item.age} <input type="text"/></li>
                            })
                        }    
                    </ul>
                    <hr/><hr/>
                    <p>用id做标识</p>
                    <ul>
                        {
                            persons.map((item)=>{
                                return <li key={item.id}>{item.name}----{item.age} <input type="text"/></li>
                            })
                        }    
                    </ul>
                </div>
            )
        }
        
    }

    ReactDOM.render(<Person/>,document.getElementById('test'))
</script>
</html>